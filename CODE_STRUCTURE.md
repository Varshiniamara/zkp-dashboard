# ðŸ“‚ ZKP Dashboard - Codebase Architecture & File Guide

This document provides a comprehensive overview of the project structure, explaining the purpose of each key file and directory. It is designed to help developers and reviewers understand "what does what" in the application.

## ðŸ—ï¸ Project Root

| File / Folder | Description |
| :--- | :--- |
| **`app/`** | Contains the Next.js App Router pages and layouts (**Frontend Logic**). |
| **`backend/`** | Contains the Node.js/Express server logic (**Backend Logic**). |
| **`components/`** | Reusable React UI components used across the application. |
| **`lib/`** | Shared utility functions and helper classes. |
| **`contracts/`** | Solidity smart contracts for on-chain verification (simulated in demo). |
| **`circuits/`** | Circom circuit definitions for generating Zero-Knowledge Proofs. |
| **`public/`** | Static assets like images and compiled circuit files (`.wasm`, `.zkey`). |
| `package.json` | Defines project dependencies and executable scripts (e.g., `npm run dev`). |
| `next.config.mjs` | Configuration for the Next.js framework. |

---

## ðŸ–¥ï¸ Frontend Architecture (`app/` & `components/`)

The frontend is built with **Next.js 14**, **Tailwind CSS**, and **Shadcn UI**.

### ðŸ”¹ Pages (`app/`)
| File | Purpose |
| :--- | :--- |
| `app/page.tsx` | **Landing Page**: The entry point of the website. It contains the "Hero" section, project explanation, and navigation to the demo. |
| `app/demo/page.tsx` | **Main Demo Interface**: The core application page. It handles the interactive ZKP demonstration (SNARK, STARK, Rollup) and manages the user state (dataset or manual input). |
| `app/layout.tsx` | **Global Layout**: Defines the global font (Inter), HTML structure, and providers common to all pages. |

### ðŸ”¹ Core Components (`components/`)
| File | Purpose |
| :--- | :--- |
| `hybrid-flow-demo.tsx` | **Hybrid Flow Visualizer**: Manages the complex animations and logic for the "Hybrid" tab, showing the interaction between SNARKs, Rollups, and STARKs. |
| `proof-generator.tsx` | **Proof Gen UI**: A reusable component for the SNARK and STARK tabs that handles the "Generate Proof" button and loading states. |
| `comprehensive-proof-display.tsx` | **Results View**: Displays the JSON output of generated proofs in a readable, syntax-highlighted format. |
| `dataset-viewer.tsx` | **Data Table**: Shows the list of dummy users (credit scores, salaries) available for testing. |
| `navigation.tsx` | **Navbar**: The top navigation bar linking Home and Demo pages. |
| `hero.tsx` | **Hero Section**: The visual introduction component on the landing page. |

---

## âš™ï¸ Logic & Simulation (`lib/`)

This is the "Brain" of the frontend-only deployment.

| File | Purpose |
| :--- | :--- |
| **`lib/api-client.ts`** | **CRITICAL FILE**. This file acts as a bridge. In a full deployment, it talks to the backend. In the **Simulation/Demo Mode** (current), it **intercepts** all API calls and runs the ZKP logic directly in the browser using JavaScript. It simulates latency, proof generation, and validation without needing a server. |
| `lib/utils.ts` | Helper functions for CSS class merging (used by Tailwind). |

---

## ðŸ”Œ Backend Architecture (`backend/`)

*Note: In the current Vercel/Static deployment, this code is bypassed by `api-client.ts`, but it represents the "Real" logic for a production environment.*

| File | Purpose |
| :--- | :--- |
| `src/app.ts` | Entry point for the Express server. Sets up middleware and database connections. |
| `src/routes/zkp.routes.ts` | Defines the API endpoints (e.g., `POST /api/zkp/snark`). |
| `src/controllers/zkp.controller.ts` | Handles incoming API requests and directs them to the correct service. |
| **`src/services/snarkService.ts`** | **SNARK Logic**: Contains the logic to generate logic-based proofs (checking if credit score > 700). |
| **`src/services/starkService.ts`** | **STARK Logic**: Implements the FRI-based transparency checks (e.g., valid country code). |
| **`src/services/rollupService.ts`** | **Rollup Logic**: Batches multiple transactions into a Merkle tree root for scalability. |
| `src/services/hybridService.ts` | **Orchestrator**: Combines the above three services into a single unified workflow. |

---

## ðŸ” Cryptography (`circuits/` & `contracts/`)

| File | Purpose |
| :--- | :--- |
| `circuits/credit_score.circom` | **The Circuit**: Written in Circom. It mathematically defines the rules (e.g., `signal input score; assert score > 700`). |
| `contracts/Verifier.sol` | **Smart Contract**: The Solidity code that would live on Ethereum to verify the proofs generated by the app. |
